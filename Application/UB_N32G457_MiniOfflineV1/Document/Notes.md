# 电能数据采集与计算
1. 单独读取电压，最快需要 120ms 读取一条，建议设置为 130ms 读取一条，这样一秒大概是 7 条数据
2. 电流通过 CHCS-CAB-500A 模块采集，采集速度大概是 10ms 一条，一秒能采集 100 条
3. 采集数据时，记录在 [Voltage, Current, Millisecond] 的数据结构中，并保留在一个 ring 中，这样可以循环滚动记录和计算
4. 计算时，按公式[(当前记录的 ms - 之前记录的 ms) * 之前记录的 Voltage * 之前记录的 Current] 计算出功率，然后进行累加，这是按毫秒进行累计的电能值(W)
5. 最后需要换算成 kWh 单位，以小时计算 E = (Ems/1000)/(1000 * 60 * 60) = Ems/3600000000, 如果保留 3 位小数, E3 = (Ems/3600000000) * 1000 


